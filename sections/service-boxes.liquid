{% comment %}
  Service Boxes Section
  Displays service features with icons in a grid layout
{% endcomment %}

<section class="service-boxes-section py-12 md:py-16 {% if section.settings.background_style == 'gradient' %}bg-gradient-to-br from-gray-50 to-white{% elsif section.settings.background_style == 'colored' %}bg-{{ section.settings.background_color }}{% endif %}">
  <div class="{% if section.settings.full_width %}w-full{% else %}container mx-auto{% endif %} px-4">
    
    {% if section.settings.title != blank %}
      <div class="text-center mb-10 md:mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900">
          {{ section.settings.title }}
        </h2>
        {% if section.settings.subtitle != blank %}
          <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">
            {{ section.settings.subtitle }}
          </p>
        {% endif %}
      </div>
    {% endif %}

    <div class="grid grid-cols-1 md:grid-cols-{{ section.settings.columns }} gap-6 md:gap-8">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'service' %}
            <div class="service-box group relative overflow-hidden rounded-lg {% if section.settings.box_style == 'bordered' %}border border-gray-200{% elsif section.settings.box_style == 'shadow' %}shadow-lg{% endif %} bg-white p-6 md:p-8 text-{{ section.settings.text_alignment }} transition-all duration-300 hover:shadow-xl hover:-translate-y-1" {{ block.shopify_attributes }}>
              
              {% if section.settings.show_hover_effect %}
                <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
              {% endif %}
              
              <div class="relative z-10">
                {% if block.settings.icon_type == 'emoji' and block.settings.emoji != blank %}
                  <div class="inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mb-4 text-4xl md:text-5xl">
                    {{ block.settings.emoji }}
                  </div>
                {% elsif block.settings.icon_type == 'svg' %}
                  <div class="inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mb-4 rounded-full bg-{{ block.settings.icon_background_color }} text-{{ block.settings.icon_color }}">
                    {% case block.settings.svg_icon %}
                      {% when 'truck' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                        </svg>
                      {% when 'support' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                      {% when 'shield' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                      {% when 'gift' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>
                        </svg>
                      {% when 'clock' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                      {% when 'heart' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                      {% when 'star' %}
                        <svg class="w-8 h-8 md:w-10 md:h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                    {% endcase %}
                  </div>
                {% elsif block.settings.icon_type == 'image' and block.settings.icon_image %}
                  <div class="inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mb-4">
                    <img src="{{ block.settings.icon_image | img_url: '160x160' }}"
                         alt="{{ block.settings.title }}"
                         class="w-full h-full object-contain"
                         loading="lazy">
                  </div>
                {% endif %}
                
                {% if block.settings.title != blank %}
                  <h3 class="text-xl md:text-2xl font-semibold text-gray-900 mb-3">
                    {{ block.settings.title }}
                  </h3>
                {% endif %}
                
                {% if block.settings.description != blank %}
                  <p class="text-gray-600 leading-relaxed">
                    {{ block.settings.description }}
                  </p>
                {% endif %}
                
                {% if block.settings.link_text != blank and block.settings.link_url != blank %}
                  <a href="{{ block.settings.link_url }}" 
                     class="inline-flex items-center mt-4 text-{{ section.settings.link_color }} hover:text-{{ section.settings.link_hover_color }} font-medium transition-colors duration-200">
                    {{ block.settings.link_text }}
                    <svg class="w-4 h-4 ml-2 transition-transform duration-200 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                  </a>
                {% endif %}
              </div>
            </div>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .service-box {
    animation: fadeInUp 0.6s ease-out;
    animation-fill-mode: both;
  }
  
  .service-box:nth-child(1) { animation-delay: 0.1s; }
  .service-box:nth-child(2) { animation-delay: 0.2s; }
  .service-box:nth-child(3) { animation-delay: 0.3s; }
  .service-box:nth-child(4) { animation-delay: 0.4s; }
  .service-box:nth-child(5) { animation-delay: 0.5s; }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

{% schema %}
{
  "name": "Service Boxes",
  "tag": "section",
  "class": "service-boxes-section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Why Choose Us"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Section Subtitle"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width Section",
      "default": false
    },
    {
      "type": "select",
      "id": "columns",
      "label": "Columns (Desktop)",
      "options": [
        {
          "value": "2",
          "label": "2 Columns"
        },
        {
          "value": "3",
          "label": "3 Columns"
        },
        {
          "value": "4",
          "label": "4 Columns"
        },
        {
          "value": "5",
          "label": "5 Columns"
        }
      ],
      "default": "4"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "background_style",
      "label": "Background Style",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "gradient",
          "label": "Gradient"
        },
        {
          "value": "colored",
          "label": "Solid Color"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "background_color",
      "label": "Background Color",
      "options": [
        {
          "value": "gray-50",
          "label": "Light Gray"
        },
        {
          "value": "blue-50",
          "label": "Light Blue"
        },
        {
          "value": "indigo-50",
          "label": "Light Indigo"
        }
      ],
      "default": "gray-50",
      "info": "Only applies when Background Style is 'Solid Color'"
    },
    {
      "type": "select",
      "id": "box_style",
      "label": "Box Style",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "bordered",
          "label": "Bordered"
        },
        {
          "value": "shadow",
          "label": "Shadow"
        }
      ],
      "default": "shadow"
    },
    {
      "type": "checkbox",
      "id": "show_hover_effect",
      "label": "Show Hover Effect",
      "default": true
    },
    {
      "type": "select",
      "id": "link_color",
      "label": "Link Color",
      "options": [
        {
          "value": "blue-600",
          "label": "Blue"
        },
        {
          "value": "indigo-600",
          "label": "Indigo"
        },
        {
          "value": "purple-600",
          "label": "Purple"
        },
        {
          "value": "gray-900",
          "label": "Dark"
        }
      ],
      "default": "blue-600"
    },
    {
      "type": "select",
      "id": "link_hover_color",
      "label": "Link Hover Color",
      "options": [
        {
          "value": "blue-700",
          "label": "Blue"
        },
        {
          "value": "indigo-700",
          "label": "Indigo"
        },
        {
          "value": "purple-700",
          "label": "Purple"
        },
        {
          "value": "black",
          "label": "Black"
        }
      ],
      "default": "blue-700"
    }
  ],
  "blocks": [
    {
      "type": "service",
      "name": "Service Box",
      "settings": [
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            {
              "value": "emoji",
              "label": "Emoji"
            },
            {
              "value": "svg",
              "label": "SVG Icon"
            },
            {
              "value": "image",
              "label": "Custom Image"
            }
          ],
          "default": "svg"
        },
        {
          "type": "text",
          "id": "emoji",
          "label": "Emoji",
          "default": "ðŸšš",
          "info": "Only used when Icon Type is 'Emoji'"
        },
        {
          "type": "select",
          "id": "svg_icon",
          "label": "SVG Icon",
          "options": [
            {
              "value": "truck",
              "label": "Truck (Shipping)"
            },
            {
              "value": "support",
              "label": "Support"
            },
            {
              "value": "shield",
              "label": "Shield (Security)"
            },
            {
              "value": "gift",
              "label": "Gift"
            },
            {
              "value": "clock",
              "label": "Clock (Time)"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "star",
              "label": "Star"
            }
          ],
          "default": "truck",
          "info": "Only used when Icon Type is 'SVG Icon'"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Icon Image",
          "info": "Only used when Icon Type is 'Custom Image'"
        },
        {
          "type": "select",
          "id": "icon_background_color",
          "label": "Icon Background Color",
          "options": [
            {
              "value": "blue-100",
              "label": "Light Blue"
            },
            {
              "value": "indigo-100",
              "label": "Light Indigo"
            },
            {
              "value": "purple-100",
              "label": "Light Purple"
            },
            {
              "value": "green-100",
              "label": "Light Green"
            },
            {
              "value": "red-100",
              "label": "Light Red"
            },
            {
              "value": "yellow-100",
              "label": "Light Yellow"
            },
            {
              "value": "gray-100",
              "label": "Light Gray"
            }
          ],
          "default": "blue-100"
        },
        {
          "type": "select",
          "id": "icon_color",
          "label": "Icon Color",
          "options": [
            {
              "value": "blue-600",
              "label": "Blue"
            },
            {
              "value": "indigo-600",
              "label": "Indigo"
            },
            {
              "value": "purple-600",
              "label": "Purple"
            },
            {
              "value": "green-600",
              "label": "Green"
            },
            {
              "value": "red-600",
              "label": "Red"
            },
            {
              "value": "yellow-600",
              "label": "Yellow"
            },
            {
              "value": "gray-600",
              "label": "Gray"
            }
          ],
          "default": "blue-600"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Free Shipping"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Free shipping on all orders over $50. No minimum purchase required."
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "Learn more"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Service Boxes",
      "blocks": [
        {
          "type": "service",
          "settings": {
            "icon_type": "svg",
            "svg_icon": "truck",
            "title": "Free Shipping",
            "description": "Free shipping on all orders over $50"
          }
        },
        {
          "type": "service",
          "settings": {
            "icon_type": "svg",
            "svg_icon": "support",
            "title": "24/7 Support",
            "description": "Round the clock customer support"
          }
        },
        {
          "type": "service",
          "settings": {
            "icon_type": "svg",
            "svg_icon": "shield",
            "title": "Secure Payment",
            "description": "100% secure payment processing"
          }
        },
        {
          "type": "service",
          "settings": {
            "icon_type": "svg",
            "svg_icon": "gift",
            "title": "Gift Cards",
            "description": "Perfect gifts for any occasion"
          }
        }
      ]
    }
  ]
}
{% endschema %}